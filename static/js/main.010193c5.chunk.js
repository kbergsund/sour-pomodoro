(this["webpackJsonpsour-pomodoros"]=this["webpackJsonpsour-pomodoros"]||[]).push([[0],{25:function(e,t,r){},26:function(e,t,r){},30:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),c=r(16),a=r.n(c),s=(r(25),r(7)),o=r(8),l=r(12),u=r(11),j=(r(26),r(4)),h=r(17),d=r.n(h),b=r(1),v=function(e){var t=e.id,r=e.poster,n=e.rating;return Object(b.jsxs)("article",{className:"movie",children:[Object(b.jsx)(j.b,{to:"/movies/".concat(t),children:Object(b.jsx)("img",{className:"poster",src:r,alt:"movie poster"})}),Object(b.jsx)(d.a,{stars:Math.round(n),outOf:10,full:"#ffffff",empty:"##000000",stroke:"#a33c00"})]})},m=(r(30),function(e){return fetch("https://rancid-tomatillos.herokuapp.com/api/v2/".concat(e)).then((function(e){if(e.ok)return e.json();throw new Error(e.status)}))}),O=r(9),p=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.call(this)).componentDidMount=function(){m("movies/".concat(e.props.clickedId)).then((function(t){return e.setState({currentMovie:t.movie})})).catch((function(t){return"500"===t.message&&e.setState({clickedMovieNetworkErr:new Error("404")})}))},e.handleUnavailableData=function(e){return e?parseInt(e)?"$".concat((new Intl.NumberFormat).format(e)):e:"N/A"},e.state={currentMovie:null,clickedMovieNetworkErr:null},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this.state.clickedMovieNetworkErr?this.props.handleError(this.state.clickedMovieNetworkErr):this.state.currentMovie?Object(b.jsx)("section",{className:"clicked-image",style:{backgroundImage:"url(".concat(this.state.currentMovie.backdrop_path)},children:Object(b.jsxs)("div",{className:"movie-stats",children:[Object(b.jsx)("h3",{children:this.state.currentMovie.title}),Object(b.jsxs)("p",{children:["Rating: ",Math.round(10*this.state.currentMovie.average_rating)/10,"/10"]}),Object(b.jsxs)("p",{children:["Release Year: ",new Date(this.state.currentMovie.release_date).toLocaleDateString("en-US",{timeZone:"UTC"})]}),Object(b.jsxs)("p",{children:["Revenue: ",this.handleUnavailableData(this.state.currentMovie.revenue)]}),Object(b.jsxs)("p",{children:["Budget: ",this.handleUnavailableData(this.state.currentMovie.budget)]}),Object(b.jsxs)("p",{children:["Runtime: ",this.state.currentMovie.runtime," minutes"]}),Object(b.jsxs)("p",{children:["Tagline: ",this.handleUnavailableData(this.state.currentMovie.tagline)]}),Object(b.jsxs)("p",{children:["Overview: ",this.state.currentMovie.overview]})]})}):Object(b.jsx)("div",{className:"loading",children:Object(b.jsx)(O.FulfillingBouncingCircleSpinner,{color:"#942700"})});return Object(b.jsxs)("article",{className:"clicked-movie",children:[this.state.currentMovie&&Object(b.jsx)(j.b,{className:"x-button",to:"/",children:Object(b.jsx)("button",{type:"button",children:"x"})}),e]})}}]),r}(i.a.Component),x=r(2),f=function(e){var t=e.handleError,r=Object(x.g)().id;return Object(b.jsx)(p,{clickedId:"".concat(r),handleError:t})},g=(r(37),r(38),function(){return Object(b.jsxs)("section",{className:"error-container",children:[Object(b.jsx)("h2",{children:"404-Invalid URL"}),Object(b.jsx)("p",{className:"spooky-error",children:"Whoa...kinda spooky in here"}),Object(b.jsx)(j.b,{to:"/",className:"error-link",children:"Get me outta here!"})]})}),k=(r(39),function(e){var t=e.sortMovies,r=e.error;return"/"!==Object(x.e)().pathname||r?null:Object(b.jsxs)("select",{onChange:function(e){return t(e.target.value)},children:[Object(b.jsx)("option",{hidden:!0,children:"Sort By"}),Object(b.jsx)("option",{value:"title",children:"A-Z"}),Object(b.jsx)("option",{value:"title2",children:"Z-A"}),Object(b.jsx)("option",{value:"average_rating",children:"Rating: Sour-Sweet"}),Object(b.jsx)("option",{value:"average_rating2",children:"Rating: Sweet-Sour"}),Object(b.jsx)("option",{value:"release_date",children:"Old-New"}),Object(b.jsx)("option",{value:"release_date2",children:"New-Old"})]})}),M=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.call(this)).componentDidMount=function(){m("movies").then((function(t){return setTimeout((function(){e.setState({movieData:t.movies})}),500)})).catch((function(t){e.setState({networkErr:t})}))},e.handleError=function(e){return"500"===e.message?Object(b.jsx)("h2",{children:"A server error occured, super bummer. \ud83d\ude15 Try again later."}):"404"===e.message?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(g,{})}):Object(b.jsx)("h2",{children:"An unknown error occured, can't help ya there \ud83e\udd37\u200d\u2640\ufe0f"})},e.sortMovies=function(t){if(e.state.movieData)if(t.includes("2")){var r=t.slice(0,t.length-1);e.setState({movieData:e.state.movieData.sort((function(e,t){return e[r]>t[r]?-1:e[r]<t[r]?1:0}))})}else e.setState({movieData:e.state.movieData.sort((function(e,r){return e[t]<r[t]?-1:e[t]>r[t]?1:0}))})},e.state={movieData:null,networkErr:""},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this.state.networkErr?this.handleError(this.state.networkErr):this.state.movieData?this.state.movieData.map((function(e){return Object(b.jsx)(v,{id:e.id,poster:e.poster_path,rating:e.average_rating},e.id)})):Object(b.jsxs)("div",{className:"loading",children:[Object(b.jsx)("p",{children:"Loading...beep boop...uh...beep"}),Object(b.jsx)(O.FulfillingBouncingCircleSpinner,{color:"#942700"})]});return Object(b.jsxs)("main",{className:"movie-container",children:[Object(b.jsx)(k,{className:"sort-container",error:this.state.networkErr,sortMovies:this.sortMovies}),Object(b.jsx)("div",{className:"movie-grid",children:Object(b.jsxs)(x.c,{children:[Object(b.jsx)(x.a,{path:"/:invalidURL",element:Object(b.jsx)(g,{})}),Object(b.jsx)(x.a,{path:"/",element:e}),Object(b.jsx)(x.a,{path:"/movies/:id",element:Object(b.jsx)(f,{handleError:this.handleError})})]})})]})}}]),r}(n.Component),w=(r(40),function(){return Object(b.jsx)("header",{children:Object(b.jsx)(j.b,{className:"header-link",to:"/",children:Object(b.jsx)("h1",{children:"sour pomodoro"})})})});var N=function(){return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(w,{}),Object(b.jsx)(M,{})]})};a.a.render(Object(b.jsx)(j.a,{children:Object(b.jsx)(N,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.010193c5.chunk.js.map